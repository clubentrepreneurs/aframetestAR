<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>AR sans marqueur — WebXR + A-Frame</title>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script>
    // Active WebXR AR mode
    AFRAME.registerComponent('enter-ar', {
      init () {
        this.el.addEventListener('loaded', () => {
          const scene = this.el;
          if (navigator.xr && navigator.xr.isSessionSupported) {
            navigator.xr.isSessionSupported('immersive-ar').then((supported) => {
              if (supported) {
                scene.setAttribute('xr', 'mode: ar');
              } else {
                console.warn('WebXR AR non pris en charge ici');
              }
            });
          }
        });
      }
    });
  </script>
</head>
<body style="margin:0;overflow:hidden">
  <a-scene
    vr-mode-ui="enabled: false"
    embedded
    renderer="colorManagement: true"
    enter-ar
  >
    <!-- cube flottant devant la caméra -->
    <a-box position="1 1 -1" color="tomato" depth="0.3" height="0.3" width="0.3"></a-box>
    <a-entity camera></a-entity>
  </a-scene>
</body>
</html>
